<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SmartFit - Orders</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Lora&family=Playfair+Display&display=swap" rel="stylesheet">
</head>
<body>
  <div class="form-card">
    <div class="logo">SmartFit</div>
    <h1>Customer Orders</h1>

    <div id="ordersList">
      <!-- Orders will be loaded here dynamically -->
    </div>

    <a href="index.html" class="view-orders">Place New Order</a>
  </div>

  <script>
    async function fetchOrders() {
      try {
        const response = await fetch('http://localhost:5000/orders');
        const orders = await response.json();

        const ordersList = document.getElementById('ordersList');
        ordersList.innerHTML = '';

        orders.forEach(order => {
          const orderCard = document.createElement('div');
          orderCard.style.background = '#f9f5f0';
          orderCard.style.border = '1px solid #e0daca';
          orderCard.style.borderRadius = '0.75rem';
          orderCard.style.padding = '1rem';
          orderCard.style.marginTop = '1rem';
          orderCard.style.textAlign = 'left';
          orderCard.style.boxShadow = '0 2px 6px rgba(0,0,0,0.05)';

          orderCard.innerHTML = `
            <p><strong>Name:</strong> ${order.name}</p>
            <p><strong>Phone:</strong> ${order.phone}</p>
            <p><strong>Bust:</strong> ${order.bust}</p>
            <p><strong>Waist:</strong> ${order.waist}</p>
            <p><strong>Hips:</strong> ${order.hips}</p>
            <p><strong>Length:</strong> ${order.length}</p>
            <p><strong>Sleeve Length:</strong> ${order.sleeve}</p>
            <p><strong>Design:</strong> ${order.design}</p>
          `;

          ordersList.appendChild(orderCard);
        });
      } catch (error) {
        console.error('Failed to fetch orders:', error);
        document.getElementById('ordersList').innerText = 'Unable to load orders. Please try again later.';
      }
    }

    fetchOrders();
  </script>
</body>
</html>

